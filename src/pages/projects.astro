---
import { getCollection } from "astro:content";
import PageLayout from "../components/_page_layout.astro";
import Project from "../components/project.astro";

const projects = (await getCollection("projects")).filter(
  (project: { data: { draft: boolean; }; }) => project.data.draft != true,
);
---

<PageLayout title="Projects">
  <div>
    {
      projects.map((project: { data: { title: string; description: string; img: string; url: string; }; }) => (
        <Project
          title={project.data.title}
          description={project.data.description}
          img={project.data.img}
          url={project.data.url}
        />
      ))
    }
  </div>
</PageLayout>
